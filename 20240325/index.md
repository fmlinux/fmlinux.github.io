# 今日开源新闻汇总2024-3-25
## 新闻1
Linux 6.9 版本的 IO_uring 更新在几乎结束的合并窗口期间早期合并。这一轮又为这个精彩且创新的内核特性带来了一些新功能。
<br>
Linux 6.9 的 IO_uring 更新包括对每环 NAPI 的支持、对截断的支持、公开 SQPOLL 利用状态、使 task_work 内部循环更公平、multi-shot修复以及其他各种修复/清理。
<br>
由 Stefan Roesch 长期研究的 NAPI 忙轮询支持已经实现。利用 NAPI 忙轮询时，Stefan 测试的往返时间从 55 微秒降低到 38 微秒。补丁信息中有更多细节，供对这项新 IO_uring 功能感兴趣的人参考。
<br>
IO_uring 的截断（ftruncate）支持允许通过 IO_uring 进行原生截断，因此应用程序不再需要设置自己的线程池或卸载来进行非阻塞截断。
<br>
更多关于 Linux 6.9 的 IO_uring 更新的细节可以通过拉取请求查看，代码已经在今天的 Linux 6.9-rc1 版本发布前进入 Linux Git.
<br>
![图片暂时迷路了！！:(](img/1.png)
## 新闻2
在行业安全问题达到历史新高的情况下，Linux 6.9 版本正在进一步加强其安全防护，增加了各种额外的安全检查和其他编译时防御措施，以确保最佳的安全实践。
<br>
Kees Cook 在 Linux 6.9 合并窗口开始时提交了一系列硬化更新。他总结说这是“相当正常的”，并且在不同的变化和改进方面“到处都是”。
<br>
Linux 6.9 正在重新引入未定义行为消毒器（UBSAN）有符号溢出消毒器，以继续测试和改进编译器端，并发现其他方法使该消毒器对每个人更有用。之前由于与“-fno-strict-overflow”编译器选项配对时实际上无效，有符号溢出消毒器被移除。但随着消毒器的改进以及希望更好地检查意外的有符号环绕，消毒器的使用正在被恢复。
<br>
硬化拉取还包括各种 Kconfig 更新、头文件更新、删除一个 13 年老的 CAP_SYS_ADMIN 向后兼容性检查，以及其他一些小的变化，都是为了安全硬化。
<br>
这次合并后的拉取列出了进一步硬化 Linux 6.9 的变化。
<br>
![图片暂时迷路了！！:(](img/2.png)
## 新闻3
Linux 6.8 在 v6.5 版本中弃用了 SLAB 分配器，现在只留下 SLUB 来处理所有分配任务。对于 Linux 6.9，继续清理 SLAB 的移除，并对 SLUB 进行更多改进。
<br>
Vlastimil Babka 提交了 Linux 6.9 的 SLUB（SLAB）变更，并突出显示了以下几点：
<br>
*--自由列表加载优化（Chengming Zhou）*
<br>
*当每个 CPU 的 slab 耗尽并从 CPU 部分列表中加载新的 slab 时，优化加载过程以避免 IRQ 启用/禁用周期。这在 “perf bench sched messaging” 测试中带来了 3.5% 的性能提升。*
<br>
*--SLAB 移除后的内核启动参数清理（Xiongwei Song）*
<br>
*由于我们有两种不同的主要 slab 实现，我们的启动参数前缀要么是 slab_ 要么是 slub_，随着两种实现都获得相同的功能（即 slab_nomerge vs slub_nomerge），一些参数后来成为别名。为了最终摆脱特定于实现的名称，现在所有规范和文档化的参数都以 slab_ 为前缀，而 slub_ 变体成为已弃用但仍在工作的别名。*
<br>
*--SLAB_ kmem_cache 创建标志清理（Vlastimil Babka）*
<br>
*标志有硬编码的 #define 值，添加新值时变得繁琐且容易出错。通过枚举分配值，该枚举负责提供唯一的位号。还弃用了仅由 SLAB 使用的 SLAB_MEM_SPREAD，因为自 SLAB 移除后它就是一个空操作。将其分配一个明确的零值。标志使用的移除是在各个子系统中独立处理的，计划在下一个版本中最终移除任何剩余的使用。*
<br>
*--杂项清理和修复（Chengming Zhou、Xiaolei Wang、Zheng Yejian）*
<br>
*包括移除未使用的代码或函数参数，以及修复内存泄漏。*
<br>
这次拉取提供了构成 Linux 6.9 合并代码的完整补丁列表.
<br>
![图片暂时迷路了！！:(](img/3.png)
## 新闻4
