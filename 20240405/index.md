# 今日开源新闻汇总 2024-4-5
## 1.
在提交了一个针对 Bcachefs 的 Linux 6.9 拉取请求（pull request）以更好地应对“极端文件系统损坏”两天后，又提交了另一个拉取请求，旨在提高这个较新的写时复制（copy-on-write）开源文件系统的恢复能力。
<br>
尽管新增了一千多行代码，这个最新的拉取请求旨在大幅提高 Bcachefs 的修复能力。它仍然在 Linux 6.9 内核周期的“修复”阶段被发送，至少现在在帮助从文件系统的意外中恢复方面应该更加健壮。Bcachefs 的主要开发者 Kent Overstreet 指出，有了这些最新的补丁，文件系统的修复代码“应该是完整的”，如果不是，他希望立即听到任何问题。
<br>
![图片暂时迷路了！！:(](img/1.png)
<br>
Overstreet 在拉取请求中解释了 Bcachefs 修复代码的良好状态：
<br>
*“又有几处小修复，以及新的修复代码。*
<br>
*我们现在可以通过扫描自动恢复任意损坏的内部 btree 节点，并且可以根据需要重建元数据，将文件系统恢复到一个工作中、一致的、可读写的状态，并保留对未损坏内容的访问。*
<br>
*这意味着 - 你可以除了 extents 和 dirents 叶节点之外，清除所有元数据，修复将重建其他一切并给你数据，并且在正确的路径下。如果 inode 缺失，i_size 将会略有偏差，权限/所有权/时间戳将会丢失，如果使用了快照，我们仍然需要快照 btree - 将来我们将能够在某些情况下猜测快照树结构。*
<br>
*换句话说 - 除了摆脱剩余的错误（模糊测试还在进行中），修复代码应该是完整的，如果修复工作无法完成，那将是我想要立即知道的最高优先级的错误。*
<br>
*这个补丁集是由一位来自印度的用户友好地测试的，他不小心擦除了家用电脑上一个没有复制的三驱动器文件系统中的一个驱动器 - 虽然花了几周时间，但我们找回了所有重要的数据。”*
<br>
这些代码现在等待 Linus Torvalds 拉取，以进一步提高 Bcachefs 在主线内核上的质量。
<br>
## 2.
最近在 Linux 6.10 合并窗口之前，加密子系统的开发分支中加入了对 VFIO 实时迁移的支持，这一支持是针对英特尔的 QuickAssist Technology (QAT) 驱动程序的。
<br>
英特尔 QAT 对于加速支持软件的压缩和加密非常有用，特别是在拥有 QAT 加速卡或在最近的 Xeon 可扩展处理器上找到 QAT 支持的情况下。这种实时迁移支持是关于能够处理在节点之间迁移的客户虚拟机，同时保留 QAT 支持。
<br>
![图片暂时迷路了！！:(](img/2.png)
<br>
新排队的代码允许 Intel QAT Gen4 SRIOV 虚拟功能 (VFs) 的实时迁移。QAT 驱动程序可以保存和恢复 VF 所包含的bank 的状态。英特尔补丁系列解释说： 
<br>
*以下是测试 QAT GEN4 VF 实时迁移所需的步骤：*
<br>
*1.将一个或多个 QAT GEN4 VF 设备绑定到模块 qat_vfio_pci.ko*
<br>
*2.将 VFs 分配给虚拟机并启用设备实时迁移*
<br>
*3.在 VM 内部使用 QAT VF 运行工作负载，例如使用 qatlib*
<br>
*4.将 VM 从源节点迁移到目的节点*
<br>
为 Intel QAT 准备的实时迁移支持的补丁已在 cryptodev-2.6.git 中排队，以便在下个月开放的 Linux 6.10 合并窗口之前准备好。
<br>
## 3.
LLVM的BOLT是一个优化二进制文件布局的强大工具，从而可以带来一些非常有用的性能改进。但现在，一位Arm编译器工程师利用BOLT创建了一个二进制分析工具，以审查安全加固选项的正确性。
<br>
Arm编译器工程师Kristof Beyls提出了一个基于BOLT的解决方案的初始概念证明，以评估二进制文件的安全加固。 
<br>
*“我们缺乏验证安全加固特性正确代码生成的好工具。大多数安全加固特性只通过少量回归测试进行测试。仅仅运行大量编译了安全加固特性的代码并不能很好地测试它们：它检查程序是否仍然为给定输入产生预期输出，但它不检查是否使恶意利用二进制文件变得更难。*
<br>
*这个RFC提议构建一个静态二进制分析器，可以扫描二进制文件以验证给定的加固特性是否已在整个二进制文件中正确应用。我已经在BOLT之上构建了一个原型，并提议改进它，使其足以能够上游传输。”*
<br>
在LLVM论坛上的一个RFC帖子中，Kristof Beyls概述了他利用BOLT进行这种安全加固分析的初始工作——这远远超出了Facebook/Meta开发BOLT时的原始性能意图。
<br>
该工具旨在验证诸如堆栈保护器、堆栈冲突保护、分支保护、控制流保护等特性。二进制分析工具将验证整个程序的加固特性，并且比今天使用的有限的安全加固测试更加详细。
<br>
初始代码称为“llvm-bolt-gadget-scanner”，目前处于原型形式。到目前为止的结果是有希望的，并且希望能够构建一个有用的二进制扫描器。在其他上游LLVM开发人员的支持下，有希望能够将这样的工具上游传输到代码库中。
<br>
除了上述的RFC消息外，这个小工具扫描器的原型代码可以在GitHub上找到。
<br>
## 4.
Qt 6.7 工具包在本周早些时候发布后，今天发布了 Qt Creator 13 集成开发环境。Qt Creator 是为 Qt/C++ 定制的 IDE，旨在通过紧密的 Qt 集成和支持多种功能来加速开发人员的生产力。
<br>
Qt Creator 13 为 Linux on ARM 提供了离线和在线安装程序，改进了作为 Qt Creator 13 一部分的停靠用户界面，增强了 IDE 的欢迎模式，对 Apple iOS 17 设备提供了部分支持，并且对 Qt 应用程序管理器提供了初步支持。Qt Creator 13 允许创建、构建、部署、运行和调试使用 Qt 应用程序管理器的设备应用程序，适用于 Qt6 和使用 CMake 构建系统。
<br>
Qt Creator 13 现在还支持使用 NPM 为 YAML、JSON 和 Bash 设置语言服务器。
<br>
通过 Qt.io 可以下载并获取有关 Qt Creator 13 集成开发环境的更多详情。
<br>
![图片暂时迷路了！！:(](img/4.png)
<br>
## 5.
